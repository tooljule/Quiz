<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <link rel="manifest" href="/manifest.json" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Quiz">
    <title>Persönlichkeitsquiz</title>
    <style>
      html {
        overscroll-behavior: none;
      }

      body {
        overflow: hidden;
        font-family: "WuerthBook", sans-serif;
        background: #ffffff;
        color: #333;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        flex-direction: column;
        user-select: none;
        -ms-user-select: none !important;
        -webkit-touch-callout: none !important;
      }

      #quiz-container {
        padding: 30px;
        width: 90%;
        height: 90%;
        overflow-y: auto;
        animation: fadeIn 1s;
        display: flex;
        flex-direction: column;
      }

      .question {
        display: none;
        animation: fadeIn 1s;
      }

      .question.active {
        display: block;
      }

      .question button {
        background: #c70404;
        color: white;
        border: 4px solid white;
        font-size: 32pt;
        cursor: pointer;
        width: 100%;
        height: 50vh;
        border-radius: 10px;
        padding: 20px;
        animation: slideIn 1s;
        transition: 0.4s;
      }

      .question button:hover {
        background: #ffffff;
        color: black;
        border: 4px solid #b11a1a;
        transform: scale(1.05);
        z-index: 100;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes slideIn {
        from {
          transform: translateY(-50%);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }
    </style>
  </head>
  <body>
    <div id="start-screen">
      <img style="max-width: 200px" src="Wurth_logo.png" />
      <h1>Welcher Würth Vertriebstyp bin ich?</h1>
      <button id="start-btn">Quiz starten</button>
    </div>

        <div id="quiz-container" style="display: none;">
      <div style="height: 10vh;">
        <img
          style="max-width: 200px"
          src="https://content.strategicsource.com/hs-fs/hubfs/Wurth_logo.png?width=900&height=231&name=Wurth_logo.png"
        />
      </div>
      <div id="quiz">
        <div class="question active">
          <div class="qu_text">
            <p>Wie stellst du dir deinen Arbeitsalltag vor?</p>
          </div>
          <div style="display: flex">
            <button onclick="updateScore('A,B')">Ich teile mir meine Arbeit gerne selbst ein.</button>
            <button onclick="updateScore('C,D,E')">Ich mag feste Arbeitszeiten und einen festen Arbeitsort.</button>
          </div>
        </div>
        <div class="question">
          <div class="qu_text">
            <p>Team Spezialwissen oder Allrounder: Wozu gehörst du?</p>
          </div>
          <div style="display: flex">
            <button onclick="updateScore('B,E')">Spezialwissen</button>
            <button onclick="updateScore('A,C,D')">Allrounder</button>
          </div>
        </div>
        <div class="question">
          <div class="qu_text">
            <p>Magst du es lieber abwechslungsreich oder liebst du konzentriertes Arbeiten?</p>
          </div>
          <div style="display: flex">
            <button onclick="updateScore('A,D')">Abwechslung</button>
            <button onclick="updateScore('B,C,E')">Konzentration</button>
          </div>
        </div>
        <div class="question">
          <div class="qu_text">
            <p>Wie würdest du dich beschreiben?</p>
          </div>
          <div style="display: flex">
            <button onclick="updateScore('A')">Kreativ</button>
            <button onclick="updateScore('C,D')">Organisiert</button>
            <button onclick="updateScore('B,E')">Analytisch</button>
          </div>
        </div>
        <div class="question">
          <div class="qu_text">
            <p>Was ist dir besonders wichtig?</p>
          </div>
          <div style="display: flex">
            <button onclick="updateScore('A')">Flexibilität</button>
            <button onclick="updateScore('D')">feste Struktur</button>
            <button onclick="updateScore('B,C,E')">Lösungen finden</button>
          </div>
        </div>
        <div class="question">
          <div class="qu_text">
            <p>Hast du gerne direkten Kundenkontakt?</p>
          </div>
          <div style="display: flex">
            <button onclick="updateScore('A,B,C,D')">Ja</button>
            <button onclick="updateScore('E')">Nein</button>
          </div>
        </div>
        <div class="question">
          <div class="qu_text">
            <p>Wie definierst du beruflichen Erfolg?</p>
          </div>
          <div style="display: flex">
            <button onclick="updateScore('A,D')">Kundenvertrauen</button>
            <button onclick="updateScore('C')">Effizienz</button>
            <button onclick="updateScore('B,E')">Optimierung</button>
          </div>
        </div>
        <div class="question">
          <div class="qu_text">
            <p>Teamarbeit oder Eigenverantwortung?</p>
          </div>
          <div style="display: flex">
            <button onclick="updateScore('D,E')">Teamarbeit</button>
            <button onclick="updateScore('A,B,C')">Eigenverantwortung</button>
          </div>
        </div>
      </div>
      <div id="result" style="display: none;">
        <p style="font-size: 42pt; font-weight: 900;">Dein Vertriebstyp ist:</p>
        <p id="resultText" style="font-size: 64pt; font-weight: 900;"></p>
        <img src="qrcode.jpeg" style="width: 160px; height: 160px;" />
        <p>Lust auf Vertrieb bei Würth bekommen?</p>
      </div>
      <button id="reset-btn" onclick="goBackToStart()">Quiz zurücksetzen</button>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // Global variables
        let scoreA = 0;
        let scoreB = 0;
        let scoreC = 0;
        let scoreD = 0;
        let scoreE = 0;
        let currentQuestionIndex = 0;
        let inactivityTimer;

        // Get elements
        const questions = document.querySelectorAll(".question");
        const startBtn = document.getElementById("start-btn");
        const quizContainer = document.getElementById("quiz-container");
        const startScreen = document.getElementById("start-screen");
        const resultDiv = document.getElementById("result");
        const resultText = document.getElementById("resultText");
        const resetBtn = document.getElementById("reset-btn");

        // Start button event
        startBtn.addEventListener("mousedown", () => {
          startScreen.style.display = "none";
          quizContainer.style.display = "block";
          updateGame();
        });

        // Function to update scores and move to the next question
        function updateScore(categories) {
          const categoryArray = categories.split(",");
          categoryArray.forEach((result) => {
            if (result === "A") scoreA++;
            else if (result === "B") scoreB++;
            else if (result === "C") scoreC++;
            else if (result === "D") scoreD++;
            else if (result === "E") scoreE++;
          });

          // Move to the next question
          questions[currentQuestionIndex].classList.remove("active");
          currentQuestionIndex++;
          if (currentQuestionIndex < questions.length) {
            questions[currentQuestionIndex].classList.add("active");
          } else {
            showResult();
          }
        }

        // Function to display results
        function showResult() {
          document.getElementById("quiz").style.display = "none";
          resultDiv.style.display = "block";

          if (scoreA > scoreB && scoreA > scoreC && scoreA > scoreD && scoreA > scoreE) {
            resultText.innerHTML = `Außendienst <br>
              <p>Flexibilität und Selbstständigkeit sind dir besonders wichtig. Du bist das Bindeglied zwischen Kunden und Würth.</p>`;
          } else if (scoreB > scoreA && scoreB > scoreC && scoreB > scoreD && scoreB > scoreE) {
            resultText.innerHTML = `Spezialvertrieb <br>
              <p>Dein Spezialwissen macht dich zum Problemlöser, der für Kunden und Kollegen wertvoll ist.</p>`;
          } else if (scoreC > scoreA && scoreC > scoreB && scoreC > scoreD && scoreC > scoreE) {
            resultText.innerHTML = `Telefonvertrieb <br>
              <p>Am Telefon bist du unschlagbar, immer bereit für Beratung und Problemlösung.</p>`;
          } else if (scoreD > scoreA && scoreD > scoreB && scoreD > scoreC && scoreD > scoreE) {
            resultText.innerHTML = `Niederlassung <br>
              <p>Du schaffst ein außergewöhnliches Einkaufserlebnis und glänzt durch Teamarbeit.</p>`;
          } else if (scoreE > scoreA && scoreE > scoreB && scoreE > scoreC && scoreE > scoreD) {
            resultText.innerHTML = `E-Business <br>
              <p>Du optimierst digitale Anwendungen, um Kunden auch online perfekt zu unterstützen.</p>`;
          }
        }

        // Reset the quiz
        function goBackToStart() {
          scoreA = 0;
          scoreB = 0;
          scoreC = 0;
          scoreD = 0;
          scoreE = 0;
          currentQuestionIndex = 0;
          questions.forEach((q, i) => {
            q.classList.remove("active");
            if (i === 0) q.classList.add("active");
          });
          resultDiv.style.display = "none";
          quizContainer.style.display = "none";
          startScreen.style.display = "block";
        }

        resetBtn.addEventListener("mousedown", goBackToStart);

        // Handle inactivity
        function resetInactivityTimer() {
          clearTimeout(inactivityTimer);
          inactivityTimer = setTimeout(goBackToStart, 60000); // 1 minute
        }

        document.addEventListener("mousemove", resetInactivityTimer);
        document.addEventListener("keydown", resetInactivityTimer);
        document.addEventListener("click", resetInactivityTimer);

        // Prevent default touch scroll
        document.addEventListener(
          "touchmove",
          (e) => e.preventDefault(),
          { passive: false }
        );

        // Initialize inactivity timer
        resetInactivityTimer();
      });
    </script>
  </body>
</html>
